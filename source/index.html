{{
func filterUnpublished(vars)
    ret vars.published != false
end
func get_named_contexts(value)
    ret get_contexts "name" value | array.filter @filterUnpublished | array.sort "title"
end

projects = get_named_contexts "projects.*"
experiments = get_named_contexts "experiments.*"
}}

{{ capture content }}
<section>
    Hello my future girlfriend, my name is Derrick Staples. I enjoy playing with
    code, climbing on things I should not, running, caster-boarding, and twirling
    things around like a baton girl on a cheerleading squad.<br><br>
    atinybird is mostly just an experiment and file dump; there is not much here
    with fleshed out content. If anything seems remotely interesting however,
    please feel free to <a href="/cheep.html">contact me</a>.
</section>

<section>
    <header>
        <img src="/img/icon-fat.png">
        Projects
    </header>
    <ul>
        {{~ for vars in projects ~}}
            <li>
                <a href="{{ vars.url ?? vars._relPath }}">{{ vars.title }}</a><br>
                {{ vars.description }}
            </li>
        {{~ end ~}}
    </ul>
</section>

<section>
    <header>
        <img src="/img/icon-butterfly.png">
        Experiments
    </header>
    <ul>
        {{~ for vars in experiments ~}}
        <li>
            <a href="{{ vars.url ?? vars._relPath }}">{{ vars.title }}</a><br>
            {{ vars.description }}
        </li>
        {{~ end ~}}
    </ul>
</section>

<section>
    <header>
        <img src="/img/icon-duck.png">
        <a href="/nest/art/">Art</a>
    </header>
    <ul>
        <li>Random art produced in spurts.</li>
    </ul>
</section>

<section>
    <header>
        <img src="/img/icon-baby-bird.png">
        <a href="/nest/">Nest</a>
    </header>
    <ul>
        <li>File dump with pretty thumbnails.</li>
    </ul>
</section>

<footer>
    powered by nginx, ductwork, and ennui. <a class="subdued" href="/cheep.html">cheep cheep</a>
</footer>
{{ end }}

{{ include ".templates/default.html" }}